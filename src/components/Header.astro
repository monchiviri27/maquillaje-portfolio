---
// Importaciones
import Button from './ui/Button.astro';
import MenuButton from './MenuButton.jsx';

// Definición de los enlaces de navegación
const links = [
    { name: 'Inicio', href: '/' },
    { name: 'Portafolio', href: '/portfolio' },
    { name: 'Servicios', href: '/servicios' },
    { name: 'Sobre Mí', href: '/sobre-mi' },
];

// Enlace de Call-to-Action (CTA)
const cta = { 
    text: 'Reservar', 
    href: '/contacto' 
};
---

<header class="fixed top-0 left-0 right-0 z-[9999] bg-white/95 backdrop-blur-md shadow-lg border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-6 py-3 flex items-center justify-between">
        
        <!-- Logo -->
        <a 
            href="/" 
            class="text-2xl lg:text-3xl font-bold title-font text-gray-900 hover:text-pink-600 transition-colors duration-300"
            transition:persist
        >
            Luxury Make-up
        </a>

        <!-- Navegación Desktop -->
        <nav class="hidden lg:flex items-center space-x-8">
            {links.map((link) => (
                <a 
                    href={link.href} 
                    class="text-base font-medium text-gray-700 hover:text-pink-600 transition duration-200 relative group py-2"
                >
                    {link.name}
                    <span class="absolute bottom-0 left-0 w-full h-0.5 bg-pink-600 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></span>
                </a>
            ))}
        </nav>

        <!-- CTA Desktop -->
        <div class="hidden lg:block">
            <Button href={cta.href} variant="primary">
                {cta.text}
            </Button>
        </div>

        <!-- Menú Mobile -->
        <div class="lg:hidden">
            <MenuButton links={links} cta={cta} client:load /> 
        </div>

    </div>
</header>

<style is:global>
    /* Smooth scroll behavior para toda la página */
    html {
        scroll-behavior: smooth;
        scroll-padding-top: 80px; /* Para que los anchors no queden detrás del header */
    }
    
    /* Asegurar que el body tenga padding para compensar el header fixed */
    body {
        padding-top: 70px !important;
    }
    
    /* Asegurar que el header se mantenga por encima de todo */
    header {
        will-change: transform;
    }
    
    /* Reset para asegurar que no hay overflow conflicts */
    body, html {
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }
</style>

<script>
    // Script opcional para añadir efecto de scroll (puedes omitirlo si no lo necesitas)
    if (typeof window !== 'undefined') {
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (header && window.scrollY > 50) {
                header.classList.add('shadow-xl', 'py-2');
                header.classList.remove('py-3');
            } else if (header) {
                header.classList.add('py-3');
                header.classList.remove('py-2', 'shadow-xl');
            }
        });
    }
</script>
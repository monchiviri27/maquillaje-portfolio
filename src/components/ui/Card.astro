---
import { Image } from 'astro:assets';

interface Props {
	title: string;
	description: string;
	link: string;
	imageSrc: string; // Recibimos la ruta de la imagen
}

const { title, description, link, imageSrc } = Astro.props;

// Importamos la imagen dinámicamente. Es importante que la imagen exista
// en public/assets con la ruta que se le pasa desde index.astro.
// Para este ejemplo, estamos asumiendo que la ruta es relativa a public/
// Nota: Si usas una ruta de importación fija, no funcionará con props. 
// Para un componente más avanzado que maneje paths, Astro.glob puede ser útil.
// Aquí usamos la forma simple para archivos que están en /public.
const absoluteImageSrc = imageSrc.startsWith('/') ? imageSrc : `/${imageSrc}`;

// Para usar <Image /> con rutas dinámicas de /public, necesitamos una importación estática 
// o manejar las rutas como strings. Para simplificar, usaremos una etiqueta <img> estándar aquí,
// pero la mejor práctica es usar el componente <Image> de Astro con rutas estáticas si es posible.
---

<a href={link} class="block h-full group">
    <div class="bg-white border border-gray-200 p-6 shadow-xl h-full flex flex-col transition-all duration-500 hover:shadow-2xl hover:border-pink-300">
        
        <div class="mb-4 overflow-hidden">
            <img 
                src={absoluteImageSrc} 
                alt={`Imagen de ${title}`} 
                class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105"
                loading="lazy"
            />
        </div>

        <h3 class="title-font text-2xl font-bold mb-3 text-gray-900 group-hover:text-pink-600 transition-colors">
            {title}
        </h3>
        <p class="text-gray-600 flex-grow mb-4">
            {description}
        </p>
        
        <span class="text-sm font-semibold text-pink-600 flex items-center mt-auto">
            Explorar Paquete 
            <svg class="w-4 h-4 ml-2 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
        </span>
    </div>
</a>